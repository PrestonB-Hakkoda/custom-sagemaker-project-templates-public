{
    "Parameters": {
        "StageName": "prod",
        "BatchInstanceType": "ml.m5.xlarge",
        "BatchInstanceCount": "1",
        "InputPath": "",
        "OutputPath": "",
        "SageMakerProjectName": "foot-traffic-deploy",
        "SageMakerProjectId": "foot-traffic-build-train-sagemaker-foot-traffic-build-train",
        "ModelPackageName": "arn:aws:sagemaker:us-east-2:644944822023:model-package/foot-traffic-build-train-sagemaker-foot-traffic-build-train/2",
        "ModelExecutionRoleArn": "arn:aws:iam::644944822023:role/service-role/AmazonSageMakerServiceCatalogProductsExecutionRole",
        "PipelineDefinitionBody": "{\"Version\": \"2020-12-01\", \"Metadata\": {}, \"Parameters\": [{\"Name\": \"ModelName\", \"Type\": \"String\", \"DefaultValue\": \"${ModelName}\"}, {\"Name\": \"CheckMetricsAndTransform\", \"Type\": \"String\", \"DefaultValue\": \"True\"}], \"PipelineExperimentConfig\": {\"ExperimentName\": {\"Get\": \"Execution.PipelineName\"}, \"TrialName\": {\"Get\": \"Execution.PipelineExecutionId\"}}, \"Steps\": [{\"Name\": \"FootTrafficInfPrep\", \"Type\": \"Processing\", \"Arguments\": {\"ProcessingResources\": {\"ClusterConfig\": {\"InstanceType\": \"ml.m5.large\", \"InstanceCount\": 1, \"VolumeSizeInGB\": 30}}, \"AppSpecification\": {\"ImageUri\": \"257758044811.dkr.ecr.us-east-2.amazonaws.com/sagemaker-scikit-learn:1.0-1-cpu-py3\", \"ContainerEntrypoint\": [\"python3\", \"/opt/ml/processing/input/code/01_inf_prep.py\"]}, \"RoleArn\": \"arn:aws:iam::644944822023:role/service-role/AmazonSageMakerServiceCatalogProductsExecutionRole\", \"ProcessingInputs\": [{\"InputName\": \"input-1\", \"AppManaged\": false, \"S3Input\": {\"S3Uri\": \"s3://sagemaker-us-east-2-644944822023/batch_inference/requirements/01_inf_prep_reqs.txt\", \"LocalPath\": \"/opt/ml/processing/pipeline_reqs\", \"S3DataType\": \"S3Prefix\", \"S3InputMode\": \"File\", \"S3DataDistributionType\": \"FullyReplicated\", \"S3CompressionType\": \"None\"}}, {\"InputName\": \"code\", \"AppManaged\": false, \"S3Input\": {\"S3Uri\": \"s3://sagemaker-us-east-2-644944822023/foot-traffic-deploy-foot-traffic-build-train-sagemaker-foot-traffic-build-train-BatchInference/code/19a905234a2454746338b1eb7cfc625c/01_inf_prep.py\", \"LocalPath\": \"/opt/ml/processing/input/code\", \"S3DataType\": \"S3Prefix\", \"S3InputMode\": \"File\", \"S3DataDistributionType\": \"FullyReplicated\", \"S3CompressionType\": \"None\"}}], \"ProcessingOutputConfig\": {\"Outputs\": [{\"OutputName\": \"batch_inf\", \"AppManaged\": false, \"S3Output\": {\"S3Uri\": \"s3://sagemaker-us-east-2-644944822023/foot-traffic/data/batch_inf/batch_inf_no_target.csv\", \"LocalPath\": \"/opt/ml/processing/batch_inf\", \"S3UploadMode\": \"EndOfJob\"}}]}, \"Tags\": [{\"Key\": \"sagemaker:project-id\", \"Value\": \"p-auzxnibcsrby\"}, {\"Key\": \"sagemaker:project-name\", \"Value\": \"foot-traffic-batch-deploy\"}]}}, {\"Name\": \"TransformDependencyWorkaround\", \"Type\": \"Condition\", \"Arguments\": {\"Conditions\": [{\"Type\": \"Equals\", \"LeftValue\": {\"Get\": \"Parameters.CheckMetricsAndTransform\"}, \"RightValue\": \"True\"}], \"IfSteps\": [{\"Name\": \"MonitorFootTrafficDataQuality-transform\", \"Type\": \"Transform\", \"Arguments\": {\"ModelName\": {\"Get\": \"Parameters.ModelName\"}, \"TransformInput\": {\"DataSource\": {\"S3DataSource\": {\"S3DataType\": \"S3Prefix\", \"S3Uri\": \"s3://sagemaker-us-east-2-644944822023/foot-traffic/data/batch_inf/batch_inf_no_target.csv\"}}, \"ContentType\": \"text/csv\"}, \"TransformOutput\": {\"S3OutputPath\": \"s3://sagemaker-us-east-2-644944822023/FootTrafficTransform\", \"AssembleWith\": \"Line\", \"Accept\": \"text/csv\"}, \"TransformResources\": {\"InstanceCount\": 1, \"InstanceType\": \"ml.m5.xlarge\"}, \"BatchStrategy\": \"SingleRecord\", \"MaxPayloadInMB\": 90, \"Tags\": [{\"Key\": \"sagemaker:project-id\", \"Value\": \"p-auzxnibcsrby\"}, {\"Key\": \"sagemaker:project-name\", \"Value\": \"foot-traffic-batch-deploy\"}]}, \"DependsOn\": [\"MonitorFootTrafficDataQuality-monitoring\"]}, {\"Name\": \"MonitorFootTrafficDataQuality-monitoring\", \"Type\": \"QualityCheck\", \"Arguments\": {\"ProcessingResources\": {\"ClusterConfig\": {\"InstanceType\": \"ml.m5.xlarge\", \"InstanceCount\": 1, \"VolumeSizeInGB\": 30}}, \"AppSpecification\": {\"ImageUri\": \"777275614652.dkr.ecr.us-east-2.amazonaws.com/sagemaker-model-monitor-analyzer\"}, \"RoleArn\": \"arn:aws:iam::644944822023:role/service-role/AmazonSageMakerServiceCatalogProductsExecutionRole\", \"ProcessingInputs\": [{\"InputName\": \"baseline_dataset_input\", \"AppManaged\": false, \"S3Input\": {\"S3Uri\": \"s3://sagemaker-us-east-2-644944822023/foot-traffic/data/baseline/batch_inf_no_target_with_header.csv\", \"LocalPath\": \"/opt/ml/processing/input/baseline_dataset_input\", \"S3DataType\": \"S3Prefix\", \"S3InputMode\": \"File\", \"S3DataDistributionType\": \"FullyReplicated\", \"S3CompressionType\": \"None\"}}], \"ProcessingOutputConfig\": {\"Outputs\": [{\"OutputName\": \"quality_check_output\", \"App",
        "PipelineDefinitionBodyExtras": "Managed\": false, \"S3Output\": {\"S3Uri\": \"s3://sagemaker-us-east-2-644944822023/foot-traffic/data_quality/reports\", \"LocalPath\": \"/opt/ml/processing/output\", \"S3UploadMode\": \"EndOfJob\"}}]}, \"Environment\": {\"output_path\": \"/opt/ml/processing/output\", \"publish_cloudwatch_metrics\": \"Disabled\", \"dataset_format\": \"{\\\"csv\\\": {\\\"header\\\": false, \\\"output_columns_position\\\": \\\"START\\\"}}\", \"dataset_source\": \"/opt/ml/processing/input/baseline_dataset_input\"}}, \"CheckType\": \"DATA_QUALITY\", \"ModelPackageGroupName\": null, \"SkipCheck\": false, \"FailOnViolation\": false, \"RegisterNewBaseline\": false, \"SuppliedBaselineStatistics\": \"s3://sagemaker-us-east-2-644944822023/foot-traffic/data_quality/results/statistics.json\", \"SuppliedBaselineConstraints\": \"s3://sagemaker-us-east-2-644944822023/foot-traffic/data_quality/results/constraints.json\"}], \"ElseSteps\": []}, \"DependsOn\": [\"FootTrafficInfPrep\"]}]}"
    },
    "Tags": {
        "sagemaker:deployment-stage": "prod",
        "sagemaker:project-id": "foot-traffic-build-train-sagemaker-foot-traffic-build-train",
        "sagemaker:project-name": "foot-traffic-deploy"
    }
}